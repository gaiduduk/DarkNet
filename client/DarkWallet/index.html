<style>
    .header {
        height: 64px;
        box-shadow: 0 0 5px black;
        font-size: 20px;
    }

    md-button {
        font-weight: 600;
    }

    .cell {
        border: 1px solid #666666;
        text-align: center;
        padding: 16px 0;
    }

    .cell-header {
        background-color: black;
    }

    .scrollable {
        overflow: auto;
    }

    .scrollable::-webkit-scrollbar {
        width: 6px;
    }

    .scrollable::-webkit-scrollbar-track {
        box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.1);
    }

    .scrollable::-webkit-scrollbar-thumb {
        background-color: #666666;
        outline: 1px solid #000000;
    }

    .prev-button, .next-button {
        background-color: #444444;
    }

    .prev-button {
        position: absolute;
        top: 6px;
        left: 0;
    }

    .next-button {
        position: absolute;
        top: 6px;
        right: 0;
    }

    .buy-sale-delimiter {
        width: 4px;
        background-color: rgb(33,150,243);
    }

</style>
<div class="layout-fill layout-row" style="background-color: #666666;">
    <md-content class="layout-column flex-gt-xs-30 flex" ng-show="activeWindow == 0">
        <div class="layout-column flex scrollable" ng-show="toggleSendFragment">
            <div class="layout-column" style="background-color: #444444;">
                <div class="layout-column" style="padding: 20px">
                    <div class="layout-row">
                        <md-button ng-click="logout()">Log Out</md-button>
                        <div class="flex"></div>
                        <md-button class="md-fab md-mini hide-gt-xs"
                                   ng-click="activeWindow = 1">
                            <md-icon md-svg-src="img/next.svg"></md-icon>
                        </md-button>
                    </div>
                    <div class="layout-column layout-align-center-center" style="height: 200px">
                        <h1>DarkWallet</h1>
                    </div>
                    <div class="layout-row layout-align-center">
                        <div class="layout-row flex-80">
                            <input id="walletId" class="flex" type="text" ng-value="walletId"
                                   style="border-radius: 10px 0 0 10px; padding-left: 20px;">
                            <md-button class="md-raised md-primary flex" style="border-radius: 0 10px 10px 0;"
                                       ng-click="copyToClipboard()">
                                {{copyButtonLabel}}
                            </md-button>
                        </div>
                    </div>
                </div>
                <div class="layout-column" ng-repeat="coin in have_coins">
                    <md-content class="layout-column" md-ink-ripple style="padding: 16px 16px 16px 24px;">
                        <div class="layout-row">
                            <big><b>{{coin.coin_count + " " + coin.coin_code}}</b></big>
                        </div>
                        <div class="layout-row" style="padding: 8px 0 0 40px">
                            <small style="color: #9e9e9e">{{"1 " + coin.coin_code + " = " + "requesting..."}}</small>
                        </div>
                    </md-content>
                    <md-divider></md-divider>
                </div>
            </div>
        </div>
        <div class="layout-row">
            <md-button class="md-raised md-primary flex header" ng-click="show('send')">
                Send
            </md-button>
        </div>
        <form class="layout-column layout-align-center-center  flex" ng-show="!toggleSendFragment"
              style="background-color: #444444" ng-submit="send()">
            <md-card class="layout-column" style="padding: 20px">
                <md-input-container>
                    <label>Wallet ID</label>
                    <input ng-model="send_wallet_id" required maxlength="256" placeholder="example@gmail.com">
                </md-input-container>
                <div class="layout-row">
                    <md-input-container>
                        <label>Coin</label>
                        <md-select ng-model="send_coin_code" required>
                            <md-option ng-repeat="coin in have_coins" value="{{coin.coin_code}}">{{coin.coin_code}}
                            </md-option>
                        </md-select>
                    </md-input-container>
                    <md-input-container>
                        <label>Count</label>
                        <input type="number" ng-model="send_coin_count" required
                               min="1" max="{{getHaveCoin(send_coin_code)['coin_count']}}">
                    </md-input-container>
                </div>
                <div ng-show="send_message != null" style="color: red">{{send_message}}</div>
                <md-button type="submit" class="md-raised md-primary" style="margin-top: 20px"
                           ng-disabled="send_request_in_progress">
                    Send
                </md-button>
                <md-progress-linear md-mode="query" ng-disabled="!send_request_in_progress"></md-progress-linear>
            </md-card>
        </form>
    </md-content>
    <md-content class="layout-column flex" style="background-color: #9e9e9e;"
                ng-show="windowWidth >= 600 || activeWindow == 1">
        <div class="layout-column flex" ng-show="toggleExchangeFragment">
            <div class="layout-row layout-align-center-center header" style="background-color: #666666; ">
                <md-button class="md-fab md-mini hide-gt-xs prev-button" ng-click="activeWindow = 0">
                    <md-icon md-svg-src="img/back.svg"></md-icon>
                </md-button>
                <div class="layout-row layout-align-center flex">
                    <h2>Exchange service</h2>
                </div>
                <md-button class="md-fab md-mini hide-gt-xs next-button" ng-click="activeWindow = 2">
                    <md-icon md-svg-src="img/next.svg"></md-icon>
                </md-button>
            </div>
            <div class="layout-column flex scrollable">
                <div class="layout-row layout-align-center">
                    <h2>{{have_coin_code}} : {{want_coin_code}}</h2>
                </div>
                <div class="layout-row layout-align-center" ng-show="!haveOffers">
                    <h2>My processes</h2>
                </div>
                <md-card ng-repeat="offer in haveOffers">
                    <md-progress-linear md-mode="determinate" value="{{offer.offer_progress}}"></md-progress-linear>
                    <div class="layout-row" style="padding: 16px">
                        <b>{{offer.offer_type}}</b>
                        <div class="layout-row layout-align-center flex"><b>{{offer.have_coin_count + " " +
                            offer.have_coin_code + " âž  " + offer.want_coin_count + " " + offer.want_coin_code}}</b>
                        </div>
                        <b>Progress {{offer.offer_progress}}%</b>
                    </div>
                </md-card>
                <md-card class="layout-column">
                    <md-progress-linear md-mode="determinate" value="100"></md-progress-linear>
                    <div class="layout-row">
                        <div class="cell cell-header flex-20">Have {{have_coin_code}}</div>
                        <div class="cell cell-header flex-20">Want {{want_coin_code}}</div>
                        <div class="cell cell-header flex-20">{{have_coin_code}}/{{want_coin_code}}</div>
                        <div class="layout-column">
                            <div class="flex buy-sale-delimiter"></div>
                        </div>
                        <div class="cell cell-header flex-20">Have {{have_coin_code}}</div>
                        <div class="cell cell-header flex-20 ">Want {{want_coin_code}}</div>
                        <div class="cell cell-header flex-20">{{have_coin_code}}/{{want_coin_code}}</div>
                    </div>
                    <div class="layout-row">
                        <div class="layout-column flex-50">
                            <div class="layout-row" ng-repeat="offer in saleOffers">
                                <div class="cell flex-33">{{offer.have_coin_count}}</div>
                                <div class="cell flex-33">{{offer.want_coin_count}}</div>
                                <div class="cell flex-33">{{convertRate(offer.offer_rate, offer.offer_rate_inverse)}}</div>
                            </div>
                        </div>
                        <div class="layout-column">
                            <div class="flex buy-sale-delimiter"></div>
                        </div>
                        <div class="layout-column flex-50">
                            <div class="layout-row" ng-repeat="offer in buyOffers">
                                <div class="cell flex-33">{{offer.have_coin_count}}</div>
                                <div class="cell flex-33">{{offer.want_coin_count}}</div>
                                <div class="cell flex-33">{{convertRate(offer.offer_rate, offer.offer_rate_inverse)}}</div>
                            </div>
                            <div class="flex"></div>
                        </div>
                    </div>
                </md-card>
            </div>
        </div>
        <md-button class="md-raised md-primary header" ng-click="show('exchange')">
            Exchange
        </md-button>
        <form class="layout-column layout-align-center-center  flex" ng-show="!toggleExchangeFragment"
              style="background-color: #444444" ng-submit="exchange()">
            <md-card class="layout-column" style="padding: 20px; max-width: 400px">
                <div class="layout-row">
                    <div class="layout-column">
                        <md-input-container>
                            <label>Coin</label>
                            <md-select ng-model="offer_have_coin_code" required>
                                <md-option ng-repeat="coin in have_coins" value="{{coin.coin_code}}">
                                    {{coin.coin_code}}
                                </md-option>
                            </md-select>
                        </md-input-container>
                        <md-input-container>
                            <label>Count</label>
                            <input type="number" ng-model="offer_have_coin_count" required maxlength="5"
                                ng-change="offerHaveCoinCountChange()">
                        </md-input-container>
                    </div>
                    <div class="layout-column">
                        <div class="layout-row layout-align-center">
                            <md-button class="md-icon-button" ng-click="exchangeSwapCurrencies()">
                                <md-icon md-svg-src="img/next.svg"></md-icon>
                            </md-button>
                        </div>
                        <div class="flex"></div>
                        <md-input-container>
                            <label>Rate</label>
                            <input type="number" ng-model="offer_rate"  step="0.0001" required maxlength="10"
                                   ng-change="offerRateChange()">
                        </md-input-container>
                    </div>
                    <div class="layout-column">
                        <md-input-container>
                            <label>Coin</label>
                            <md-select ng-model="offer_want_coin_code" required>
                                <md-option ng-repeat="coin in coins" value="{{coin}}">{{coin}}</md-option>
                            </md-select>
                        </md-input-container>
                        <md-input-container>
                            <label>Count</label>
                            <input type="number" ng-model="offer_want_coin_count" required maxlength="5"
                                   ng-change="offerWantCoinCountChange()">
                        </md-input-container>
                    </div>
                </div>

                <div ng-show="exchange_message != null" style="color: red">{{exchange_message}}</div>
                <md-button type="submit" class="md-raised md-primary" style="margin-top: 20px"
                           ng-disabled="exchange_in_progress">
                    Exchange
                </md-button>
                <md-progress-linear md-mode="query" ng-disabled="!exchange_in_progress"></md-progress-linear>
            </md-card>
        </form>
    </md-content>

    <md-content class="layout-column flex-gt-md-20 flex" style="background-color: #9e9e9e;"
                ng-show="windowWidth >= 1280 || activeWindow == 2">
        <div class="layout-column flex" ng-show="toggleCreateCoinFragment">
            <div class="layout-row layout-align-start-center header" style="background-color: #666666; ">
                <md-button class="md-fab md-mini hide-gt-xs prev-button" ng-click="activeWindow = 1">
                    <md-icon md-svg-src="img/back.svg"></md-icon>
                </md-button>
                <div class="layout-row layout-align-center flex">
                    <h2>Rates</h2>
                </div>
            </div>
            <div class="layout-column flex scrollable">
                <md-card class="layout-column">
                    <md-progress-linear md-mode="determinate" value="100"></md-progress-linear>
                    <div class="layout-row">
                        <div class="cell cell-header flex-33">Coin</div>
                        <div class="cell cell-header flex-33">Buy</div>
                        <div class="cell cell-header flex-33">Sale</div>
                    </div>
                    <div class="layout-row" ng-repeat="rate in rates">
                        <div class="cell flex-33">{{rate.coin_code}}</div>
                        <div class="cell flex-33">{{rate.buy_rate}}</div>
                        <div class="cell flex-33">{{rate.sale_rate}}</div>
                    </div>
                </md-card>
            </div>
        </div>
        <md-button class="md-raised md-primary header" ng-click="show('create_coin')">
            Create coin
        </md-button>
        <form class="layout-column layout-align-center-center flex" ng-show="!toggleCreateCoinFragment"
              style="background-color: #444444" ng-submit="createCoin()">
            <md-card class="layout-column" style="padding: 20px">
                <md-input-container>
                    <label>Full name of Your Coin</label>
                    <input ng-model="newCoinName" required minlength="3" maxlength="30">
                </md-input-container>
                <md-input-container>
                    <label>Code of Your Coin</label>
                    <input ng-model="newCoinCode" minlength="3" maxlength="5" style="text-transform: uppercase;"
                           required>
                </md-input-container>

                <div ng-show="create_coin_message != null" style="color: red">{{create_coin_message}}</div>
                <md-button type="submit" class="md-raised md-primary" style="margin-top: 20px;"
                           ng-disabled="create_coin_request_in_progress">
                    Create coin
                </md-button>
                <md-progress-linear md-mode="query" ng-disabled="!create_coin_request_in_progress"></md-progress-linear>
            </md-card>
        </form>
    </md-content>
</div>